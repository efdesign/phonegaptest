var App=angular.module("sei",["ui.router","ngMaterial"]);App.run(["$state",function(e){"use strict";e.go("app.main")}]),angular.module("ngLocale",[],["$provide",function(e){function r(e){e+="";var r=e.indexOf(".");return-1==r?0:e.length-r-1}function n(e,n){var o=n;void 0===o&&(o=Math.min(r(e),3));var t=Math.pow(10,o),i=(e*t|0)%t;return{v:o,f:i}}var o={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],MONTH:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"],SHORTDAY:["dom","lun","mar","mer","gio","ven","sab"],SHORTMONTH:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],fullDate:"EEEE d MMMM y",longDate:"d MMMM y",medium:"dd MMM y HH:mm:ss",mediumDate:"dd/MM/yyyy",mediumTime:"HH:mm:ss","short":"dd/MM/yy HH:mm",shortDate:"dd/MM/yy",shortTime:"HH:mm"},NUMBER_FORMATS:{CURRENCY_SYM:"€",DECIMAL_SEP:",",GROUP_SEP:".",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:" ¤",posPre:"",posSuf:" ¤"}]},id:"it",pluralCat:function(e,r){var t=0|e,i=n(e,r);return 1==t&&0==i.v?o.ONE:o.OTHER}})}]),App.config(["$stateProvider","$locationProvider","$urlRouterProvider","RouteHelpersProvider",function(e,r,n,o){"use strict";r.html5Mode(!1),n.otherwise("/app/welcome"),e.state("app",{url:"/app","abstract":!0,templateUrl:o.basepath("app.html"),controller:"AppController"}).state("app.main",{url:"/main",controller:"AppController",templateUrl:o.basepath("mealshare/main.html")})}]).config(["$mdThemingProvider",function(e){"use strict";e.theme("default").primaryPalette("pink").accentPalette("orange")}]).config(["$controllerProvider","$compileProvider","$filterProvider","$provide",function(e,r,n,o){"use strict";App.controller=e.register,App.directive=r.directive,App.filter=n.register,App.factory=o.factory,App.service=o.service,App.constant=o.constant,App.value=o.value}]),App.constant("APP_REQUIRES",{scripts:{fastclick:["vendor/fastclick/lib/fastclick.js"],modernizr:["vendor/modernizr/modernizr.js"],moment:["vendor/moment/min/moment-with-locales.min.js"]},modules:[]}),App.service("browser",function(){"use strict";var e,r,n=function(e){e=e.toLowerCase();var r=/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],n=/(ipad)/.exec(e)||/(iphone)/.exec(e)||/(android)/.exec(e)||/(windows phone)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/i.exec(e)||[];return{browser:r[3]||r[1]||"",version:r[2]||"0",platform:n[0]||""}};if(e=n(window.navigator.userAgent),r={},e.browser&&(r[e.browser]=!0,r.version=e.version,r.versionNumber=parseInt(e.version)),e.platform&&(r[e.platform]=!0),(r.android||r.ipad||r.iphone||r["windows phone"])&&(r.mobile=!0),(r.cros||r.mac||r.linux||r.win)&&(r.desktop=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv){var o="msie";e.browser=o,r[o]=!0}if(r.opr){var t="opera";e.browser=t,r[t]=!0}if(r.safari&&r.android){var i="android";e.browser=i,r[i]=!0}return r.name=e.browser,r.platform=e.platform,r}),App.provider("RouteHelpers",["APP_REQUIRES",function(e){"use strict";this.basepath=function(e){return"app/views/"+e},this.resolveFor=function(){var r=arguments;return{deps:["$ocLazyLoad","$q",function(n,o){function t(e){return"function"==typeof e?a.then(e):a.then(function(){var r=i(e);return r?n.load(r):$.error("Route resolve: Bad resource name ["+e+"]")})}function i(r){if(e.modules)for(var n in e.modules)if(e.modules[n].name&&e.modules[n].name===r)return e.modules[n];return e.scripts&&e.scripts[r]}for(var a=o.when(1),p=0,c=r.length;c>p;p++)a=t(r[p]);return a}]}},this.$get=function(){return{basepath:this.basepath}}}]),App.controller("AppController",["$scope","$rootScope","$mdSidenav","$mdToast",function(e,r,n,o){"use strict";function t(e){e.friends||(e.friends=[]),e.friends.push(S),O=s()}function i(e){if(e.friends){var r=e.friends.indexOf(S);-1!==r?e.friends.splice(r,1):c(S.name+" non ha ordinato un "+e.name+" !!!")}else e.friends=[],c(h.NO_ELEMENTS_TO_REMOVE);O=s()}function a(e){S=e}function p(){return S}function c(e){o.show(o.simple().content(e).hideDelay(6e3))}function s(){return E.reduce(function(e,r){var n=r.friends||[];return e.concat(n)},[])}function m(e){return O.filter(function(r){return r===e}).length}function u(e){console.log("removing..."+e),E.splice(E.indexOf(e)),c(e.name+" rimosso")}function l(){e.app.compact=!e.app.compact}function d(){e.app.orderDetailsShown=!e.app.orderDetailsShown}function f(){angular.forEach(E,function(e){e.friends=[]}),O=s()}function g(){E.push(angular.copy(A))}function v(){return O}var h={NO_ELEMENTS_TO_REMOVE:"Non ci sono elementi da rimuovere!"};r.$on("$stateChangeSuccess",function(){var e=n(".left");console.log("changing",e),e.isOpen()&&e.toggle()});var w=[{name:" Default",gender:"him",portrait:"app/img/generic2.png"},{name:"mario",gender:"him",portrait:"app/img/mario.jpg"},{name:"laura",gender:"her",portrait:"app/img/laura.jpeg"},{name:"enrico",gender:"him",portrait:"app/img/enrico2.jpg"},{name:"ferdinando",gender:"him",portrait:"app/img/ferdinando.jpg"},{name:"giordano",gender:"him",portrait:"app/img/giordano.jpg"},{name:"walter",gender:"him",portrait:"app/img/walter.jpg"},{name:"roberto",gender:"him",portrait:"app/img/roberto.jpg"},{name:"rosario",gender:"him",portrait:"app/img/rosario.jpg"},{name:"fabio",gender:"him",portrait:"app/img/fabio.jpg"},{name:"paola",gender:"her",portrait:"app/img/paola.jpg"},{name:"alessia",gender:"her",portrait:"app/img/alessia.png"},{name:"serena",gender:"her",portrait:"app/img/serena.jpg"}],M=[{name:"cornetto"},{name:"cappuccino"},{name:"caffè"},{name:"acqua"},{name:"succo di frutta"}],E=[M[2],M[1],M[0]],b=!1,A={name:""},O=[],S=w[0];e.app={hints:{fastMode:!0,hideHint:function(r){e.app.hints[r]=!1}},name:"Order IT!",logo:"app/img/yummly.png",welcomeImage:"app/img/mealshare.svg",title:"MealShare!",friends:w,me:w[3],items:M,order:E,increment:t,decrement:i,orderedItems:m,remove:u,current:S,setCurrent:a,getCurrent:p,compact:b,toggleCompact:l,clearOrders:f,addOrderItem:g,getAllFriends:v,toggleOrderDetails:d}}]).filter("capitalize",function(){"use strict";return function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}).directive("action",function(){"use strict";return{scope:{action:"&",actionEvent:"@"},link:function(e,r){r.on(e.actionEvent||"click",e.action)}}}),App.directive("efBadge",["$log",function(e){"use strict";return{scope:{efBadge:"="},template:'<div class="ef-badge"><ng-transclude></ng-transclude></div>',replace:!0,transclude:!0,link:function(r){e.info(r.efBadge)}}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5pbml0LmpzIiwiYW5ndWxhci1sb2NhbGVfaXQuanMiLCJjb25maWcuanMiLCJjb25zdGFudHMuYW5nbGUubWQuanMiLCJzZXJ2aWNlcy9icm93c2VyLmFuZ2xlLm1kLmpzIiwic2VydmljZXMvcm91dGUtaGVscGVycy5hbmdsZS5qcyIsInVuaXRzL21lYWxzaGFyZS9tZWFsc2hhcmUuanMiXSwibmFtZXMiOlsiQXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsInJ1biIsIiRzdGF0ZSIsImdvIiwiJHByb3ZpZGUiLCJnZXREZWNpbWFscyIsIm4iLCJpIiwiaW5kZXhPZiIsImxlbmd0aCIsImdldFZGIiwib3B0X3ByZWNpc2lvbiIsInYiLCJ1bmRlZmluZWQiLCJNYXRoIiwibWluIiwiYmFzZSIsInBvdyIsImYiLCJQTFVSQUxfQ0FURUdPUlkiLCJaRVJPIiwiT05FIiwiVFdPIiwiRkVXIiwiTUFOWSIsIk9USEVSIiwidmFsdWUiLCJEQVRFVElNRV9GT1JNQVRTIiwiQU1QTVMiLCJEQVkiLCJNT05USCIsIlNIT1JUREFZIiwiU0hPUlRNT05USCIsImZ1bGxEYXRlIiwibG9uZ0RhdGUiLCJtZWRpdW0iLCJtZWRpdW1EYXRlIiwibWVkaXVtVGltZSIsInNob3J0Iiwic2hvcnREYXRlIiwic2hvcnRUaW1lIiwiTlVNQkVSX0ZPUk1BVFMiLCJDVVJSRU5DWV9TWU0iLCJERUNJTUFMX1NFUCIsIkdST1VQX1NFUCIsIlBBVFRFUk5TIiwiZ1NpemUiLCJsZ1NpemUiLCJtYXhGcmFjIiwibWluRnJhYyIsIm1pbkludCIsIm5lZ1ByZSIsIm5lZ1N1ZiIsInBvc1ByZSIsInBvc1N1ZiIsImlkIiwicGx1cmFsQ2F0IiwidmYiLCJjb25maWciLCIkc3RhdGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiJHVybFJvdXRlclByb3ZpZGVyIiwiaGVscGVyIiwiaHRtbDVNb2RlIiwib3RoZXJ3aXNlIiwic3RhdGUiLCJ1cmwiLCJhYnN0cmFjdCIsInRlbXBsYXRlVXJsIiwiYmFzZXBhdGgiLCJjb250cm9sbGVyIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImFjY2VudFBhbGV0dGUiLCIkY29udHJvbGxlclByb3ZpZGVyIiwiJGNvbXBpbGVQcm92aWRlciIsIiRmaWx0ZXJQcm92aWRlciIsInJlZ2lzdGVyIiwiZGlyZWN0aXZlIiwiZmlsdGVyIiwiZmFjdG9yeSIsInNlcnZpY2UiLCJjb25zdGFudCIsInNjcmlwdHMiLCJmYXN0Y2xpY2siLCJtb2Rlcm5penIiLCJtb21lbnQiLCJtb2R1bGVzIiwibWF0Y2hlZCIsImJyb3dzZXIiLCJ1YU1hdGNoIiwidWEiLCJ0b0xvd2VyQ2FzZSIsIm1hdGNoIiwiZXhlYyIsInBsYXRmb3JtX21hdGNoIiwidmVyc2lvbiIsInBsYXRmb3JtIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVyc2lvbk51bWJlciIsInBhcnNlSW50IiwiYW5kcm9pZCIsImlwYWQiLCJpcGhvbmUiLCJtb2JpbGUiLCJjcm9zIiwibWFjIiwibGludXgiLCJ3aW4iLCJkZXNrdG9wIiwiY2hyb21lIiwib3ByIiwic2FmYXJpIiwid2Via2l0IiwicnYiLCJpZSIsIm9wZXJhIiwibmFtZSIsInByb3ZpZGVyIiwiYXBwUmVxdWlyZXMiLCJ0aGlzIiwidXJpIiwicmVzb2x2ZUZvciIsIl9hcmdzIiwiYXJndW1lbnRzIiwiZGVwcyIsIiRvY0xMIiwiJHEiLCJhbmRUaGVuIiwiX2FyZyIsInByb21pc2UiLCJ0aGVuIiwid2hhdFRvTG9hZCIsImdldFJlcXVpcmVkIiwibG9hZCIsIiQiLCJlcnJvciIsIm0iLCJ3aGVuIiwibGVuIiwiJGdldCIsIiRzY29wZSIsIiRyb290U2NvcGUiLCIkbWRTaWRlbmF2IiwiJG1kVG9hc3QiLCJpbmNyZW1lbnQiLCJpdGVtIiwiZnJpZW5kcyIsInB1c2giLCJjdXJyZW50IiwiYWxsRnJpZW5kcyIsImNhbGN1bGF0ZUFsbEZyaWVuZE9yZGVycyIsImRlY3JlbWVudCIsImlkeCIsInNwbGljZSIsInNob3dUb2FzdCIsIlRPQVNUIiwiTk9fRUxFTUVOVFNfVE9fUkVNT1ZFIiwic2V0Q3VycmVudCIsImZyaWVuZCIsImdldEN1cnJlbnQiLCJtc2ciLCJzaG93Iiwic2ltcGxlIiwiY29udGVudCIsImhpZGVEZWxheSIsImFkZGVkSXRlbXMiLCJyZWR1Y2UiLCJ5IiwiY2MiLCJjb25jYXQiLCJvcmRlcmVkSXRlbXMiLCJ4IiwicmVtb3ZlIiwiY29uc29sZSIsImxvZyIsInRvZ2dsZUNvbXBhY3QiLCJhcHAiLCJjb21wYWN0IiwidG9nZ2xlT3JkZXJEZXRhaWxzIiwib3JkZXJEZXRhaWxzU2hvd24iLCJjbGVhck9yZGVycyIsImZvckVhY2giLCJhZGRPcmRlckl0ZW0iLCJjb3B5IiwiZW1wdHlJdGVtIiwiZ2V0QWxsRnJpZW5kcyIsIiRvbiIsInNuIiwiaXNPcGVuIiwidG9nZ2xlIiwiZ2VuZGVyIiwicG9ydHJhaXQiLCJpdGVtcyIsImhpbnRzIiwiZmFzdE1vZGUiLCJoaWRlSGludCIsImtleSIsImxvZ28iLCJ3ZWxjb21lSW1hZ2UiLCJ0aXRsZSIsIm1lIiwib3JkZXIiLCJpbnB1dCIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJzY29wZSIsImFjdGlvbiIsImFjdGlvbkV2ZW50IiwibGluayIsImlFbG0iLCJvbiIsIiRsb2ciLCJlZkJhZGdlIiwidGVtcGxhdGUiLCJyZXBsYWNlIiwidHJhbnNjbHVkZSIsImluZm8iXSwibWFwcGluZ3MiOiJBQUFBLEdBQUlBLEtBQU1DLFFBQVFDLE9BQU8sT0FDckIsWUFFQSxjQUlKRixLQUFJRyxLQUFBLFNBQUksU0FBYUMsR0FDakIsWUFFQUEsR0FBT0MsR0FBRyxlQ1RkSixRQUFRQyxPQUFPLGVBQWlCLFdBQVksU0FBU0ksR0FFckQsUUFBU0MsR0FBWUMsR0FDbkJBLEdBQVEsRUFDUixJQUFJQyxHQUFJRCxFQUFFRSxRQUFRLElBQ2xCLE9BQWEsSUFBTEQsRUFBVyxFQUFJRCxFQUFFRyxPQUFTRixFQUFJLEVBR3hDLFFBQVNHLEdB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QUNWQyxTQUFVLFNBQVNDLEdBQ2Z4RCxFQUFPb0MsSUFBSWlCLE1BQU1HLElBQU8sSUFJaENoRixLQUFNLFlBQ05pRixLQUFNLHFCQUNOQyxhQUFjLHdCQUVkQyxNQUFPLGFBQ1ByRCxRQUFTQSxFQU1Uc0QsR0FBSXRELEVBQVEsR0FXWjhDLE1BQU9BLEVBRVBTLE1BQU9wQyxFQU9QckIsVUFBV0EsRUFDWE8sVUFBV0EsRUFDWG1CLGFBQWNBLEVBQ2RFLE9BQU9BLEVBT1B4QixRQUFTQSxFQUNUUyxXQUFZQSxFQUNaRSxXQUFZQSxFQUNaa0IsUUFBU0EsRUFFVEYsY0FBY0EsRUFDZEssWUFBWUEsRUFDWkUsYUFBYUEsRUFDYkcsY0FBY0EsRUFDZFAsbUJBQW1CQSxNQWlKMUJ0RyxPQUFPLGFBQWEsV0FDakIsWUFDQSxPQUFPLFVBQVM4SCxHQUNaLE1BQU9BLEdBQU1DLE9BQU8sR0FBR0MsY0FBZ0JGLEVBQU1HLE1BQU0sTUFJMURsSSxVQUFVLFNBQVUsV0FFakIsWUFDQSxRQUlJbUksT0FDSUMsT0FBUSxJQUNSQyxZQUFhLEtBVWpCQyxLQUFNLFNBQVNyRSxFQUFRc0UsR0FFbkJBLEVBQUtDLEdBQUd2RSxFQUFPb0UsYUFBZSxRQUFTcEUsRUFBT21FLFlBTTFEck4sSUFBSWlGLFVBQVUsV0FBWSxPQUFRLFNBQVN5SSxHQUV2QyxZQUNBLFFBSUlOLE9BQ0lPLFFBQVEsS0FLWkMsU0FBVSw4REFFVkMsU0FBUyxFQUNUQyxZQUFZLEVBRVpQLEtBQU0sU0FBU3JFLEdBQ1h3RSxFQUFLSyxLQUFLN0UsRUFBT3lFIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBcHAgPSBhbmd1bGFyLm1vZHVsZSgnc2VpJywgW1xuICAgICd1aS5yb3V0ZXInLFxuICAgIC8vJ29jLmxhenlMb2FkJyxcbiAgICAnbmdNYXRlcmlhbCdcbl0pO1xuXG5cbkFwcC5ydW4oZnVuY3Rpb24gcnVuKCRzdGF0ZSkgeyAvLyAkcm9vdFNjb3BlLCAkc3RhdGUsICRzdGF0ZVBhcmFtcywgJHdpbmRvdywgJHRlbXBsYXRlQ2FjaGVcbiAgICAndXNlIHN0cmljdCc7XG4gICAgXG4gICAgJHN0YXRlLmdvKCdhcHAubWFpbicpO1xuXG4gICAgXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcbmFuZ3VsYXIubW9kdWxlKFwibmdMb2NhbGVcIiwgW10sIFtcIiRwcm92aWRlXCIsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XG52YXIgUExVUkFMX0NBVEVHT1JZID0ge1pFUk86IFwiemVyb1wiLCBPTkU6IFwib25lXCIsIFRXTzogXCJ0d29cIiwgRkVXOiBcImZld1wiLCBNQU5ZOiBcIm1hbnlcIiwgT1RIRVI6IFwib3RoZXJcIn07XG5mdW5jdGlvbiBnZXREZWNpbWFscyhuKSB7XG4gIG4gPSBuICsgJyc7XG4gIHZhciBpID0gbi5pbmRleE9mKCcuJyk7XG4gIHJldHVybiAoaSA9PSAtMSkgPyAwIDogbi5sZW5ndGggLSBpIC0gMTtcbn1cblxuZnVuY3Rpb24gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbikge1xuICB2YXIgdiA9IG9wdF9wcmVjaXNpb247XG5cbiAgaWYgKHVuZGVmaW5lZCA9PT0gdikge1xuICAgIHYgPSBNYXRoLm1pbihnZXREZWNpbWFscyhuKSwgMyk7XG4gIH1cblxuICB2YXIgYmFzZSA9IE1hdGgucG93KDEwLCB2KTtcbiAgdmFyIGYgPSAoKG4gKiBiYXNlKSB8IDApICUgYmFzZTtcbiAgcmV0dXJuIHt2OiB2LCBmOiBmfTtcbn1cblxuJHByb3ZpZGUudmFsdWUoXCIkbG9jYWxlXCIsIHtcbiAgXCJEQVRFVElNRV9GT1JNQVRTXCI6IHtcbiAgICBcIkFNUE1TXCI6IFtcbiAgICAgIFwiQU1cIixcbiAgICAgIFwiUE1cIlxuICAgIF0sXG4gICAgXCJEQVlcIjogW1xuICAgICAgXCJkb21lbmljYVwiLFxuICAgICAgXCJsdW5lZFxcdTAwZWNcIixcbiAgICAgIFwibWFydGVkXFx1MDBlY1wiLFxuICAgICAgXCJtZXJjb2xlZFxcdTAwZWNcIixcbiAgICAgIFwiZ2lvdmVkXFx1MDBlY1wiLFxuICAgICAgXCJ2ZW5lcmRcXHUwMGVjXCIsXG4gICAgICBcInNhYmF0b1wiXG4gICAgXSxcbiAgICBcIk1PTlRIXCI6IFtcbiAgICAgIFwiZ2VubmFpb1wiLFxuICAgICAgXCJmZWJicmFpb1wiLFxuICAgICAgXCJtYXJ6b1wiLFxuICAgICAgXCJhcHJpbGVcIixcbiAgICAgIFwibWFnZ2lvXCIsXG4gICAgICBcImdpdWdub1wiLFxuICAgICAgXCJsdWdsaW9cIixcbiAgICAgIFwiYWdvc3RvXCIsXG4gICAgICBcInNldHRlbWJyZVwiLFxuICAgICAgXCJvdHRvYnJlXCIsXG4gICAgICBcIm5vdmVtYnJlXCIsXG4gICAgICBcImRpY2VtYnJlXCJcbiAgICBdLFxuICAgIFwiU0hPUlREQVlcIjogW1xuICAgICAgXCJkb21cIixcbiAgICAgIFwibHVuXCIsXG4gICAgICBcIm1hclwiLFxuICAgICAgXCJtZXJcIixcbiAgICAgIFwiZ2lvXCIsXG4gICAgICBcInZlblwiLFxuICAgICAgXCJzYWJcIlxuICAgIF0sXG4gICAgXCJTSE9SVE1PTlRIXCI6IFtcbiAgICAgIFwiZ2VuXCIsXG4gICAgICBcImZlYlwiLFxuICAgICAgXCJtYXJcIixcbiAgICAgIFwiYXByXCIsXG4gICAgICBcIm1hZ1wiLFxuICAgICAgXCJnaXVcIixcbiAgICAgIFwibHVnXCIsXG4gICAgICBcImFnb1wiLFxuICAgICAgXCJzZXRcIixcbiAgICAgIFwib3R0XCIsXG4gICAgICBcIm5vdlwiLFxuICAgICAgXCJkaWNcIlxuICAgIF0sXG4gICAgXCJmdWxsRGF0ZVwiOiBcIkVFRUUgZCBNTU1NIHlcIixcbiAgICBcImxvbmdEYXRlXCI6IFwiZCBNTU1NIHlcIixcbiAgICBcIm1lZGl1bVwiOiBcImRkIE1NTSB5IEhIOm1tOnNzXCIsXG4gICAgXCJtZWRpdW1EYXRlXCI6IFwiZGQvTU0veXl5eVwiLFxuICAgIFwibWVkaXVtVGltZVwiOiBcIkhIOm1tOnNzXCIsXG4gICAgXCJzaG9ydFwiOiBcImRkL01NL3l5IEhIOm1tXCIsXG4gICAgXCJzaG9ydERhdGVcIjogXCJkZC9NTS95eVwiLFxuICAgIFwic2hvcnRUaW1lXCI6IFwiSEg6bW1cIlxuICB9LFxuICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcbiAgICBcIkNVUlJFTkNZX1NZTVwiOiBcIlxcdTIwYWNcIixcbiAgICBcIkRFQ0lNQUxfU0VQXCI6IFwiLFwiLFxuICAgIFwiR1JPVVBfU0VQXCI6IFwiLlwiLFxuICAgIFwiUEFUVEVSTlNcIjogW1xuICAgICAge1xuICAgICAgICBcImdTaXplXCI6IDMsXG4gICAgICAgIFwibGdTaXplXCI6IDMsXG4gICAgICAgIFwibWF4RnJhY1wiOiAzLFxuICAgICAgICBcIm1pbkZyYWNcIjogMCxcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcbiAgICAgICAgXCJuZWdQcmVcIjogXCItXCIsXG4gICAgICAgIFwibmVnU3VmXCI6IFwiXCIsXG4gICAgICAgIFwicG9zUHJlXCI6IFwiXCIsXG4gICAgICAgIFwicG9zU3VmXCI6IFwiXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIFwiZ1NpemVcIjogMyxcbiAgICAgICAgXCJsZ1NpemVcIjogMyxcbiAgICAgICAgXCJtYXhGcmFjXCI6IDIsXG4gICAgICAgIFwibWluRnJhY1wiOiAyLFxuICAgICAgICBcIm1pbkludFwiOiAxLFxuICAgICAgICBcIm5lZ1ByZVwiOiBcIi1cIixcbiAgICAgICAgXCJuZWdTdWZcIjogXCJcXHUwMGEwXFx1MDBhNFwiLFxuICAgICAgICBcInBvc1ByZVwiOiBcIlwiLFxuICAgICAgICBcInBvc1N1ZlwiOiBcIlxcdTAwYTBcXHUwMGE0XCJcbiAgICAgIH1cbiAgICBdXG4gIH0sXG4gIFwiaWRcIjogXCJpdFwiLFxuICBcInBsdXJhbENhdFwiOiBmdW5jdGlvbihuLCBvcHRfcHJlY2lzaW9uKSB7ICB2YXIgaSA9IG4gfCAwOyAgdmFyIHZmID0gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbik7ICBpZiAoaSA9PSAxICYmIHZmLnYgPT0gMCkgeyAgICByZXR1cm4gUExVUkFMX0NBVEVHT1JZLk9ORTsgIH0gIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT1RIRVI7fVxufSk7XG59XSk7XG4iLCIvKipcbiAqXG4gKiBiYXNlUm91dGluZyBjb25maWd1cmF0aW9uIGV4cHJlc3NlZCBhcyBhIGNvcmUgY29uZmlnIGJsb2NrXG4gKi9cblxuQXBwLmNvbmZpZyhbJyRzdGF0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJywgJyR1cmxSb3V0ZXJQcm92aWRlcicsICdSb3V0ZUhlbHBlcnNQcm92aWRlcicsXG5mdW5jdGlvbiBiYXNlUm91dGluZ0NvbmZpZygkc3RhdGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgaGVscGVyKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTZXQgdGhlIGZvbGxvd2luZyB0byB0cnVlIHRvIGVuYWJsZSB0aGUgSFRNTDUgTW9kZVxuICAvLyBZb3UgbWF5IGhhdmUgdG8gc2V0IDxiYXNlPiB0YWcgaW4gaW5kZXggYW5kIGEgcm91dGluZyBjb25maWd1cmF0aW9uIGluIHlvdXIgc2VydmVyXG4gICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZShmYWxzZSk7XG5cbiAgLy8gZGVmYXVsdHMgdG8gZGFzaGJvYXJkXG4gICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy9hcHAvd2VsY29tZScpO1xuXG5cblxuXG4gIC8vXG4gIC8vIEFwcGxpY2F0aW9uIFJvdXRlc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAkc3RhdGVQcm92aWRlclxuICAgIC5zdGF0ZSgnYXBwJywge1xuICAgICAgICB1cmw6ICcvYXBwJyxcbiAgICAgICAgYWJzdHJhY3Q6IHRydWUsXG4gICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ2FwcC5odG1sJyksXG4gICAgICAgIGNvbnRyb2xsZXI6ICdBcHBDb250cm9sbGVyJ1xuICAgICAgICAvLyxcbiAgICAgICAgLy9yZXNvbHZlOiBoZWxwZXIucmVzb2x2ZUZvcihcbiAgICAgICAgLy8gICAgJ2Zhc3RjbGljaycsICAgIC8vIFBvbHlmaWxsIHRvIHJlbW92ZSBjbGljayBkZWxheXMgb24gYnJvd3NlcnMgd2l0aCB0b3VjaCBVSXNcbiAgICAgICAgLy8gICAgJ21vZGVybml6cidcbiAgICAgICAgICAgIC8vJ21vbWVudCdcbiAgICAgICAgLy8gIClcbiAgICB9KVxuXG4gICAgLnN0YXRlKCdhcHAubWFpbicse1xuICAgICAgICB1cmw6Jy9tYWluJyxcbiAgICAgICAgY29udHJvbGxlcjonQXBwQ29udHJvbGxlcicsXG4gICAgICAgIHRlbXBsYXRlVXJsOiBoZWxwZXIuYmFzZXBhdGgoJ21lYWxzaGFyZS9tYWluLmh0bWwnKVxuXG4gICAgfSlcblxuXG4gICBcblxuXG59XSlcblxuLyoqXG4gKlxuICogaG9sZHMgdGhlIGJhc2VSb3V0aW5nIGNvbmZpZ3VyYXRpb25cbiAqL1xuICAgIC8qLmNvbmZpZyhbJyRvY0xhenlMb2FkUHJvdmlkZXInLCAnQVBQX1JFUVVJUkVTJywgZnVuY3Rpb24gbGF6eUxvYWRDb25maWcoJG9jTGF6eUxvYWRQcm92aWRlciwgQVBQX1JFUVVJUkVTKSB7XG4gICAgICAgICd1c2Ugc3RyaWN0JztcblxuICAgICAgICAvLyBMYXp5IExvYWQgbW9kdWxlcyBjb25maWd1cmF0aW9uXG4gICAgICAgICRvY0xhenlMb2FkUHJvdmlkZXIuY29uZmlnKHtcbiAgICAgICAgICAgIGRlYnVnOiB0cnVlLFxuICAgICAgICAgICAgZXZlbnRzOiB0cnVlLFxuICAgICAgICAgICAgbW9kdWxlczogQVBQX1JFUVVJUkVTLm1vZHVsZXNcbiAgICAgICAgfSk7XG5cbiAgICB9XSkqL1xuXG4uY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xuICAgICd1c2Ugc3RyaWN0JztcbiAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0JylcbiAgICAucHJpbWFyeVBhbGV0dGUoJ3BpbmsnKVxuICAgIC5hY2NlbnRQYWxldHRlKCdvcmFuZ2UnKTtcbn0pXG5cbi8qKlxuICogaG9sZHMgdGhlIGFwcCB3aWRlIGNvbmZpZ3VyYXRpb24gYmxvY2sgdG8gaG9sZCByZWZlcmVuY2VzIHRvIHJlZ2lzdGVyIGZ1bmN0aW9ucyAodG8gaGVscCBsYXp5IGxvYWRpbmcgYW5kIHBvc3QgY29uZmlnIHNlcnZpY2UgcmVnaXN0cmF0aW9uKVxuICovXG4gICAgLmNvbmZpZyhbJyRjb250cm9sbGVyUHJvdmlkZXInLCAnJGNvbXBpbGVQcm92aWRlcicsICckZmlsdGVyUHJvdmlkZXInLCAnJHByb3ZpZGUnLFxuICAgICAgICBmdW5jdGlvbiBwcm92aWRlckhhbmRsZXJzQ29uZmlnKCRjb250cm9sbGVyUHJvdmlkZXIsICRjb21waWxlUHJvdmlkZXIsICRmaWx0ZXJQcm92aWRlciwgJHByb3ZpZGUpIHtcbiAgICAgICAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgICAgICAgIC8vIHJlZ2lzdGVyaW5nIGNvbXBvbmVudHMgYWZ0ZXIgYm9vdHN0cmFwXG4gICAgICAgICAgICBBcHAuY29udHJvbGxlciA9ICRjb250cm9sbGVyUHJvdmlkZXIucmVnaXN0ZXI7XG4gICAgICAgICAgICBBcHAuZGlyZWN0aXZlID0gJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmU7XG4gICAgICAgICAgICBBcHAuZmlsdGVyID0gJGZpbHRlclByb3ZpZGVyLnJlZ2lzdGVyO1xuICAgICAgICAgICAgQXBwLmZhY3RvcnkgPSAkcHJvdmlkZS5mYWN0b3J5O1xuICAgICAgICAgICAgQXBwLnNlcnZpY2UgPSAkcHJvdmlkZS5zZXJ2aWNlO1xuICAgICAgICAgICAgQXBwLmNvbnN0YW50ID0gJHByb3ZpZGUuY29uc3RhbnQ7XG4gICAgICAgICAgICBBcHAudmFsdWUgPSAkcHJvdmlkZS52YWx1ZTtcblxuICAgICAgICB9XSlcblxuO1xuIiwiQXBwLmNvbnN0YW50KCdBUFBfUkVRVUlSRVMnLCB7XG4gICAgLy8galF1ZXJ5IGJhc2VkIGFuZCBzdGFuZGFsb25lIHNjcmlwdHNcbiAgICBzY3JpcHRzOiB7XG4gICAgICAgICdmYXN0Y2xpY2snOiBbJ3ZlbmRvci9mYXN0Y2xpY2svbGliL2Zhc3RjbGljay5qcyddLFxuICAgICAgICAnbW9kZXJuaXpyJzogWyd2ZW5kb3IvbW9kZXJuaXpyL21vZGVybml6ci5qcyddLFxuICAgICAgICAnbW9tZW50JzogWyd2ZW5kb3IvbW9tZW50L21pbi9tb21lbnQtd2l0aC1sb2NhbGVzLm1pbi5qcycsXG4gICAgICAgICAgICAvLyd2ZW5kb3IvbW9tZW50LXRpbWV6b25lL2J1aWxkcy9tb21lbnQtdGltZXpvbmUtd2l0aC1kYXRhLm1pbi5qcydcbiAgICAgICAgXVxuICAgIH0sXG4gICAgLy8gQW5ndWxhciBiYXNlZCBzY3JpcHQgKHVzZSB0aGUgcmlnaHQgbW9kdWxlIG5hbWUpXG4gICAgbW9kdWxlczogW11cbn0pO1xuIiwiLyoqPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBNb2R1bGU6IGJyb3dzZXIuanNcbiAqIEJyb3dzZXIgZGV0ZWN0aW9uXG4gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ki9cblxuQXBwLnNlcnZpY2UoJ2Jyb3dzZXInLCBmdW5jdGlvbigpe1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgbWF0Y2hlZCwgYnJvd3NlcjtcblxuICB2YXIgdWFNYXRjaCA9IGZ1bmN0aW9uKCB1YSApIHtcbiAgICB1YSA9IHVhLnRvTG93ZXJDYXNlKCk7XG5cbiAgICB2YXIgbWF0Y2ggPSAvKG9wcilbXFwvXShbXFx3Ll0rKS8uZXhlYyggdWEgKSB8fFxuICAgICAgLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAvKHZlcnNpb24pWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyggdWEgKSB8fFxuICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKCB1YSApIHx8XG4gICAgICAvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyggdWEgKSB8fFxuICAgICAgdWEuaW5kZXhPZihcInRyaWRlbnRcIikgPj0gMCAmJiAvKHJ2KSg/Ojp8ICkoW1xcdy5dKykvLmV4ZWMoIHVhICkgfHxcbiAgICAgIHVhLmluZGV4T2YoXCJjb21wYXRpYmxlXCIpIDwgMCAmJiAvKG1vemlsbGEpKD86Lio/IHJ2OihbXFx3Ll0rKXwpLy5leGVjKCB1YSApIHx8XG4gICAgICBbXTtcblxuICAgIHZhciBwbGF0Zm9ybV9tYXRjaCA9IC8oaXBhZCkvLmV4ZWMoIHVhICkgfHxcbiAgICAgIC8oaXBob25lKS8uZXhlYyggdWEgKSB8fFxuICAgICAgLyhhbmRyb2lkKS8uZXhlYyggdWEgKSB8fFxuICAgICAgLyh3aW5kb3dzIHBob25lKS8uZXhlYyggdWEgKSB8fFxuICAgICAgLyh3aW4pLy5leGVjKCB1YSApIHx8XG4gICAgICAvKG1hYykvLmV4ZWMoIHVhICkgfHxcbiAgICAgIC8obGludXgpLy5leGVjKCB1YSApIHx8XG4gICAgICAvKGNyb3MpL2kuZXhlYyggdWEgKSB8fFxuICAgICAgW107XG5cbiAgICByZXR1cm4ge1xuICAgICAgYnJvd3NlcjogbWF0Y2hbIDMgXSB8fCBtYXRjaFsgMSBdIHx8IFwiXCIsXG4gICAgICB2ZXJzaW9uOiBtYXRjaFsgMiBdIHx8IFwiMFwiLFxuICAgICAgcGxhdGZvcm06IHBsYXRmb3JtX21hdGNoWyAwIF0gfHwgXCJcIlxuICAgIH07XG4gIH07XG5cbiAgbWF0Y2hlZCA9IHVhTWF0Y2goIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50ICk7XG4gIGJyb3dzZXIgPSB7fTtcblxuICBpZiAoIG1hdGNoZWQuYnJvd3NlciApIHtcbiAgICBicm93c2VyWyBtYXRjaGVkLmJyb3dzZXIgXSA9IHRydWU7XG4gICAgYnJvd3Nlci52ZXJzaW9uID0gbWF0Y2hlZC52ZXJzaW9uO1xuICAgIGJyb3dzZXIudmVyc2lvbk51bWJlciA9IHBhcnNlSW50KG1hdGNoZWQudmVyc2lvbik7XG4gIH1cblxuICBpZiAoIG1hdGNoZWQucGxhdGZvcm0gKSB7XG4gICAgYnJvd3NlclsgbWF0Y2hlZC5wbGF0Zm9ybSBdID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIFRoZXNlIGFyZSBhbGwgY29uc2lkZXJlZCBtb2JpbGUgcGxhdGZvcm1zLCBtZWFuaW5nIHRoZXkgcnVuIGEgbW9iaWxlIGJyb3dzZXJcbiAgaWYgKCBicm93c2VyLmFuZHJvaWQgfHwgYnJvd3Nlci5pcGFkIHx8IGJyb3dzZXIuaXBob25lIHx8IGJyb3dzZXJbIFwid2luZG93cyBwaG9uZVwiIF0gKSB7XG4gICAgYnJvd3Nlci5tb2JpbGUgPSB0cnVlO1xuICB9XG5cbiAgLy8gVGhlc2UgYXJlIGFsbCBjb25zaWRlcmVkIGRlc2t0b3AgcGxhdGZvcm1zLCBtZWFuaW5nIHRoZXkgcnVuIGEgZGVza3RvcCBicm93c2VyXG4gIGlmICggYnJvd3Nlci5jcm9zIHx8IGJyb3dzZXIubWFjIHx8IGJyb3dzZXIubGludXggfHwgYnJvd3Nlci53aW4gKSB7XG4gICAgYnJvd3Nlci5kZXNrdG9wID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIENocm9tZSwgT3BlcmEgMTUrIGFuZCBTYWZhcmkgYXJlIHdlYmtpdCBiYXNlZCBicm93c2Vyc1xuICBpZiAoIGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIub3ByIHx8IGJyb3dzZXIuc2FmYXJpICkge1xuICAgIGJyb3dzZXIud2Via2l0ID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIElFMTEgaGFzIGEgbmV3IHRva2VuIHNvIHdlIHdpbGwgYXNzaWduIGl0IG1zaWUgdG8gYXZvaWQgYnJlYWtpbmcgY2hhbmdlc1xuICBpZiAoIGJyb3dzZXIucnYgKVxuICB7XG4gICAgdmFyIGllID0gXCJtc2llXCI7XG5cbiAgICBtYXRjaGVkLmJyb3dzZXIgPSBpZTtcbiAgICBicm93c2VyW2llXSA9IHRydWU7XG4gIH1cblxuICAvLyBPcGVyYSAxNSsgYXJlIGlkZW50aWZpZWQgYXMgb3ByXG4gIGlmICggYnJvd3Nlci5vcHIgKVxuICB7XG4gICAgdmFyIG9wZXJhID0gXCJvcGVyYVwiO1xuXG4gICAgbWF0Y2hlZC5icm93c2VyID0gb3BlcmE7XG4gICAgYnJvd3NlcltvcGVyYV0gPSB0cnVlO1xuICB9XG5cbiAgLy8gU3RvY2sgQW5kcm9pZCBicm93c2VycyBhcmUgbWFya2VkIGFzIFNhZmFyaSBvbiBBbmRyb2lkLlxuICBpZiAoIGJyb3dzZXIuc2FmYXJpICYmIGJyb3dzZXIuYW5kcm9pZCApXG4gIHtcbiAgICB2YXIgYW5kcm9pZCA9IFwiYW5kcm9pZFwiO1xuXG4gICAgbWF0Y2hlZC5icm93c2VyID0gYW5kcm9pZDtcbiAgICBicm93c2VyW2FuZHJvaWRdID0gdHJ1ZTtcbiAgfVxuXG4gIC8vIEFzc2lnbiB0aGUgbmFtZSBhbmQgcGxhdGZvcm0gdmFyaWFibGVcbiAgYnJvd3Nlci5uYW1lID0gbWF0Y2hlZC5icm93c2VyO1xuICBicm93c2VyLnBsYXRmb3JtID0gbWF0Y2hlZC5wbGF0Zm9ybTtcblxuXG4gIHJldHVybiBicm93c2VyO1xuXG59KTsiLCIvKio9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIE1vZHVsZTogaGVscGVycy5qc1xuICogUHJvdmlkZXMgaGVscGVyIGZ1bmN0aW9ucyBmb3Igcm91dGVzIGRlZmluaXRpb25cbiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0qL1xuXG5BcHAucHJvdmlkZXIoJ1JvdXRlSGVscGVycycsIFsnQVBQX1JFUVVJUkVTJywgZnVuY3Rpb24oYXBwUmVxdWlyZXMpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBTZXQgaGVyZSB0aGUgYmFzZSBvZiB0aGUgcmVsYXRpdmUgcGF0aFxuICAgIC8vIGZvciBhbGwgYXBwIHZpZXdzXG4gICAgdGhpcy5iYXNlcGF0aCA9IGZ1bmN0aW9uKHVyaSkge1xuICAgICAgICByZXR1cm4gJ2FwcC92aWV3cy8nICsgdXJpO1xuICAgIH07XG5cbiAgICAvLyBHZW5lcmF0ZXMgYSByZXNvbHZlIG9iamVjdCBieSBwYXNzaW5nIHNjcmlwdCBuYW1lc1xuICAgIC8vIHByZXZpb3VzbHkgY29uZmlndXJlZCBpbiBjb25zdGFudC5BUFBfUkVRVUlSRVNcbiAgICB0aGlzLnJlc29sdmVGb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9hcmdzID0gYXJndW1lbnRzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVwczogWyckb2NMYXp5TG9hZCcsICckcScsIGZ1bmN0aW9uKCRvY0xMLCAkcSkge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZXMgYSBwcm9taXNlIGNoYWluIGZvciBlYWNoIGFyZ3VtZW50XG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSAkcS53aGVuKDEpOyAvLyBlbXB0eSBwcm9taXNlXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IF9hcmdzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2UgPSBhbmRUaGVuKF9hcmdzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG5cbiAgICAgICAgICAgICAgICAvLyBjcmVhdGVzIHByb21pc2UgdG8gY2hhaW4gZHluYW1pY2FsbHlcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhbmRUaGVuKF9hcmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxzbyBzdXBwb3J0IGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF9hcmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oX2FyZyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlzIGEgbW9kdWxlLCBwYXNzIHRoZSBuYW1lLiBJZiBub3QsIHBhc3MgdGhlIGFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRUb0xvYWQgPSBnZXRSZXF1aXJlZChfYXJnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW1wbGUgZXJyb3IgY2hlY2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdoYXRUb0xvYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQuZXJyb3IoJ1JvdXRlIHJlc29sdmU6IEJhZCByZXNvdXJjZSBuYW1lIFsnICsgX2FyZyArICddJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmFsbHksIHJldHVybiBhIHByb21pc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJG9jTEwubG9hZCh3aGF0VG9Mb2FkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGFuZCByZXR1cm5zIHJlcXVpcmVkIGRhdGFcbiAgICAgICAgICAgICAgICAvLyBhbmFseXplIG1vZHVsZSBpdGVtcyB3aXRoIHRoZSBmb3JtIFtuYW1lOiAnJywgZmlsZXM6IFtdXVxuICAgICAgICAgICAgICAgIC8vIGFuZCBhbHNvIHNpbXBsZSBhcnJheSBvZiBzY3JpcHQgZmlsZXMgKGZvciBub3QgYW5ndWxhciBqcylcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRSZXF1aXJlZChuYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBSZXF1aXJlcy5tb2R1bGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtIGluIGFwcFJlcXVpcmVzLm1vZHVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwUmVxdWlyZXMubW9kdWxlc1ttXS5uYW1lICYmIGFwcFJlcXVpcmVzLm1vZHVsZXNbbV0ubmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwUmVxdWlyZXMubW9kdWxlc1ttXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwUmVxdWlyZXMuc2NyaXB0cyAmJiBhcHBSZXF1aXJlcy5zY3JpcHRzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfV1cbiAgICAgICAgfTtcbiAgICB9OyAvLyByZXNvbHZlRm9yXG5cbiAgICAvLyBub3QgbmVjZXNzYXJ5LCBvbmx5IHVzZWQgaW4gY29uZmlnIGJsb2NrIGZvciByb3V0ZXNcbiAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJhc2VwYXRoOiB0aGlzLmJhc2VwYXRoXG4gICAgICAgIH07XG4gICAgfTtcblxufV0pO1xuIiwiLy8gQXBwLmNvbmZpZygpO1xuLy8gXG5BcHAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJG1kU2lkZW5hdicsICckbWRUb2FzdCcsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSwgJG1kU2lkZW5hdiwgJG1kVG9hc3QpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvLyBzaW1wbGUgdG9hc3Qgc3RyaW5nc1xuICAgIHZhciBUT0FTVCA9IHtcbiAgICAgICAgTk9fRUxFTUVOVFNfVE9fUkVNT1ZFOiAnTm9uIGNpIHNvbm8gZWxlbWVudGkgZGEgcmltdW92ZXJlIScsXG4gICAgfVxuXG5cbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBzbiA9ICRtZFNpZGVuYXYoJy5sZWZ0Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdjaGFuZ2luZycsIHNuKTtcbiAgICAgICAgaWYgKHNuLmlzT3BlbigpKSB7XG5cbiAgICAgICAgICAgIHNuLnRvZ2dsZSgpOyAvLyBjbG9zZSB0aGlzLi4uXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBMQUNFUyAoZ2VvbG9jYXRpb24sIGhpc3RvcnkgZXRjKVxuICAgIC8qdmFyIHBsYWNlcyA9IFtcbiAgICAgICAge25hbWU6J2Zlcm9uaWEnfSxcbiAgICAgICAge25hbWU6J2NhbWJ1c2EnfSxcbiAgICAgICAge25hbWU6J3RyaXR0aWNvJ30sXG4gICAgICAgIHtuYW1lOidmb3Jubyd9LFxuXG4gICAgXTsqL1xuXG4gICAgdmFyIGZyaWVuZHMgPSBbe1xuICAgICAgICBuYW1lOiAnIERlZmF1bHQnLFxuICAgICAgICBnZW5kZXI6ICdoaW0nLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvZ2VuZXJpYzIucG5nJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ21hcmlvJyxcbiAgICAgICAgZ2VuZGVyOiAnaGltJyxcbiAgICAgICAgcG9ydHJhaXQ6ICdhcHAvaW1nL21hcmlvLmpwZydcbiAgICB9LCB7XG4gICAgICAgIG5hbWU6ICdsYXVyYScsXG4gICAgICAgIGdlbmRlcjogJ2hlcicsXG4gICAgICAgIHBvcnRyYWl0OiAnYXBwL2ltZy9sYXVyYS5qcGVnJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ2VucmljbycsXG4gICAgICAgIGdlbmRlcjogJ2hpbScsXG4gICAgICAgIHBvcnRyYWl0OiAnYXBwL2ltZy9lbnJpY28yLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2ZlcmRpbmFuZG8nLFxuICAgICAgICBnZW5kZXI6ICdoaW0nLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvZmVyZGluYW5kby5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdnaW9yZGFubycsXG4gICAgICAgIGdlbmRlcjogJ2hpbScsXG4gICAgICAgIHBvcnRyYWl0OiAnYXBwL2ltZy9naW9yZGFuby5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICd3YWx0ZXInLFxuICAgICAgICBnZW5kZXI6ICdoaW0nLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvd2FsdGVyLmpwZydcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ3JvYmVydG8nLFxuICAgICAgICBnZW5kZXI6ICdoaW0nLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvcm9iZXJ0by5qcGcnXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdyb3NhcmlvJyxcbiAgICAgICAgZ2VuZGVyOiAnaGltJyxcbiAgICAgICAgcG9ydHJhaXQ6ICdhcHAvaW1nL3Jvc2FyaW8uanBnJ1xuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnZmFiaW8nLFxuICAgICAgICBnZW5kZXI6ICdoaW0nLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvZmFiaW8uanBnJ1xuICAgIH0sIHtcbiAgICAgICAgbmFtZTogJ3Bhb2xhJyxcbiAgICAgICAgZ2VuZGVyOiAnaGVyJyxcbiAgICAgICAgcG9ydHJhaXQ6ICdhcHAvaW1nL3Bhb2xhLmpwZydcbiAgICB9LHtcbiAgICAgICAgbmFtZTogJ2FsZXNzaWEnLFxuICAgICAgICBnZW5kZXI6ICdoZXInLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvYWxlc3NpYS5wbmcnXG4gICAgfSx7XG4gICAgICAgIG5hbWU6ICdzZXJlbmEnLFxuICAgICAgICBnZW5kZXI6ICdoZXInLFxuICAgICAgICBwb3J0cmFpdDogJ2FwcC9pbWcvc2VyZW5hLmpwZydcbiAgICB9XTtcblxuICAgIC8vICBhIHN0YXRpYyBsaXN0IG9mIGl0ZW1zIGluIHRoZSBzb2Z0d2FyZSAodXNlZCBhcyBiYXNpcyBmb3IgYWRkZWQgaXRlbXMpXG4gICAgdmFyIGl0ZW1zID0gW3tcbiAgICAgICAgICAgIG5hbWU6ICdjb3JuZXR0bydcbiAgICAgICAgfSwgLy8gMFxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnY2FwcHVjY2lubydcbiAgICAgICAgfSwgLy8gMVxuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnY2FmZsOoJ1xuICAgICAgICB9LCAvLyAyXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5hbWU6ICdhY3F1YSdcbiAgICAgICAgfSwgLy8gM1xuICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnc3VjY28gZGkgZnJ1dHRhJ1xuICAgICAgICB9IC8vIDRcblxuICAgIF07XG5cblxuICAgIC8vIGdldHRpbmcgYSBkZWZhdWx0IGxpc3Qgb2YgaXRlbXNcbiAgICB2YXIgYWRkZWRJdGVtcyA9IFtcbiAgICAgICAgaXRlbXNbMl0sIC8vIGNhZmbDqFxuICAgICAgICBpdGVtc1sxXSwgLy8gY2FwcHVjY2lub1xuICAgICAgICBpdGVtc1swXSwgLy8gY29ybmV0dG8gICAgICAgIFxuICAgIF07XG5cbiAgICAvLyBjb21wYWN0IHZpZXcgP1xuICAgIHZhciBjb21wYWN0ID0gZmFsc2U7XG4gICAgdmFyIG9yZGVyRGV0YWlsc1Nob3duID0gdHJ1ZTtcblxuICAgIHZhciBlbXB0eUl0ZW0gPSB7XG4gICAgICAgICAgICBuYW1lOiAnJ1xuICAgICAgICB9O1xuXG4gICAgLy8gYWxsIGZyaWVuZCdzIG9yZGVyc1xuICAgIHZhciBhbGxGcmllbmRzID0gW107XG5cblxuXG5cblxuICAgIC8qdmFyIGdyb3VwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgbmFtZTonQ29uc3VsZW50aSBJQUQnLFxuICAgICAgICAgICAgZnJpZW5kczpbZnJpZW5kc1swXSxmcmllbmRzWzFdXSxcbiAgICAgICAgICAgIHBsYWNlOnBsYWNlc1sxXVxuICAgICAgICB9LFxuICAgICAgICB7ICAgbmFtZTonVGVhbSBDVScsXG4gICAgICAgICAgICBmcmllbmRzOmZyaWVuZHMsXG4gICAgICAgICAgICBwbGFjZTpwbGFjZXNbMF1cbiAgICAgICAgfVxuICAgIF07Ki9cblxuICAgIHZhciBjdXJyZW50ID0gZnJpZW5kc1swXTsgLy8gZGVmYXVsdCBmcmllbmRcblxuXG5cbiAgICAvLyBkZG8sIGRhdGEgKyBhcGlcbiAgICAkc2NvcGUuYXBwID0ge1xuICAgICAgICAvLyB1c2VyIHByZWZlcmVuY2VzIGFuZCB1c2VyIHByZWYgYXBpXG4gICAgICAgIGhpbnRzOiB7XG4gICAgICAgICAgICBmYXN0TW9kZTogdHJ1ZSxcbiAgICAgICAgICAgIGhpZGVIaW50OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXBwLmhpbnRzW2tleV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgLy8gREFUQSAobW9jaylcbiAgICAgICAgbmFtZTogJ09yZGVyIElUIScsXG4gICAgICAgIGxvZ286ICdhcHAvaW1nL3l1bW1seS5wbmcnLFxuICAgICAgICB3ZWxjb21lSW1hZ2U6ICdhcHAvaW1nL21lYWxzaGFyZS5zdmcnLFxuICAgICAgICAvL3ZlcnNpb246JzAuMC4xJyxcbiAgICAgICAgdGl0bGU6ICdNZWFsU2hhcmUhJyxcbiAgICAgICAgZnJpZW5kczogZnJpZW5kcyxcbiAgICAgICAgLy9mcmllbmRzT25NYXA6IGZyaWVuZHMsXG4gICAgICAgIC8vcGxhY2U6e1xuICAgICAgICAvLyAgbmFtZTonRXIgUGFuaW5hcm8nXG4gICAgICAgIC8vfSxcbiAgICAgICAgLy8gcmVmZXJlbmNlIHRvIG1lXG4gICAgICAgIG1lOiBmcmllbmRzWzNdLFxuICAgICAgICAvL2RlZmF1bHQ6e1xuICAgICAgICAvLyAgZnJpZW5kOntcbiAgICAgICAgLy8gICAgICBwb3J0cmFpdDpmcmllbmRzWzBdLnBvcnRyYWl0XG4gICAgICAgIC8vICB9LFxuICAgICAgICAvL30sXG4gICAgICAgIC8vaW52aXRlOntcbiAgICAgICAgLy8gIGZyaWVuZDpmcmllbmRzWzBdLFxuICAgICAgICAvLyAgbWVhbDonY29sYXppb25lJyxcbiAgICAgICAgLy99LFxuICAgICAgICAvL2dyb3Vwczpncm91cHMsXG4gICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgLy9hZGRlZEl0ZW1zOmFkZGVkSXRlbXMsXG4gICAgICAgIG9yZGVyOiBhZGRlZEl0ZW1zLFxuICAgICAgICAvLyBBUElzXG4gICAgICAgIC8vbG9naW46e1xuICAgICAgICAvLyAgY3JlZGVudGlhbHNMb2dpbjpjcmVkZW50aWFsc0xvZ2luLFxuICAgICAgICAvLyAgZmFjZWJvb2tMb2dpbjpmYWNlYm9va0xvZ2luLFxuICAgICAgICAvLyAgcmVjb3ZlcjpyZWNvdmVyXG4gICAgICAgIC8vfSxcbiAgICAgICAgaW5jcmVtZW50OiBpbmNyZW1lbnQsXG4gICAgICAgIGRlY3JlbWVudDogZGVjcmVtZW50LFxuICAgICAgICBvcmRlcmVkSXRlbXM6IG9yZGVyZWRJdGVtcyxcbiAgICAgICAgcmVtb3ZlOnJlbW92ZSxcbiAgICAgICAgLy9jaGVja0luOmNoZWNrSW4sXG4gICAgICAgIC8vb3BlbkxlZnRNZW51Om9wZW5MZWZ0TWVudSxcbiAgICAgICAgLy9ncm91cDp7XG4gICAgICAgIC8vICAgIGpvaW46am9pbixcbiAgICAgICAgLy8gICAgam9pbmVkOmpvaW5lZFxuICAgICAgICAvL30sXG4gICAgICAgIGN1cnJlbnQ6IGN1cnJlbnQsXG4gICAgICAgIHNldEN1cnJlbnQ6IHNldEN1cnJlbnQsXG4gICAgICAgIGdldEN1cnJlbnQ6IGdldEN1cnJlbnQsXG4gICAgICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgICAgIC8vIGludGVyZmFjZSB1dGlsaXR5IGFwaXNcbiAgICAgICAgdG9nZ2xlQ29tcGFjdDp0b2dnbGVDb21wYWN0LFxuICAgICAgICBjbGVhck9yZGVyczpjbGVhck9yZGVycyxcbiAgICAgICAgYWRkT3JkZXJJdGVtOmFkZE9yZGVySXRlbSxcbiAgICAgICAgZ2V0QWxsRnJpZW5kczpnZXRBbGxGcmllbmRzLFxuICAgICAgICB0b2dnbGVPcmRlckRldGFpbHM6dG9nZ2xlT3JkZXJEZXRhaWxzXG5cbiAgICAgICAgICAgIC8vIEdlbmVyaWMgYXBpXG4gICAgICAgICAgICAvL25hdmlnYXRlOm5hdmlnYXRlIFxuICAgIH07XG5cbiAgICAvLyBBUElcbiAgICAvLyBsb2dpblxuICAgIC8qZnVuY3Rpb24gY3JlZGVudGlhbHNMb2dpbigpe1xuICAgICAgICBjb25zb2xlLmxvZygnY3JlZGVudGlhbHNMb2dpbicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZhY2Vib29rTG9naW4oKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZhY2Vib29rTG9naW4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWNvdmVyKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWNvdmVyJyk7XG4gICAgfVxuICAgIC8vIHBsYWNlcyAvIGdlb1xuICAgIGZ1bmN0aW9uIGNoZWNrSW4oKXtcbiAgICAgICAgY29uc29sZS5sb2coJ2NoZWNrSW4nKTtcbiAgICAgICAgJHN0YXRlLmdvKCdhcHAubWFwJyk7XG4gICAgfSovXG4gICAgLy8gYWRkZWQgaXRlbXNcbiAgICBmdW5jdGlvbiBpbmNyZW1lbnQoaXRlbSkge1xuICAgICAgICAvLyB0aGlzIHNob3VsZCBub3QgYmUgaGVyZS4uLlxuICAgICAgICBpZiAoIWl0ZW0uZnJpZW5kcykge1xuICAgICAgICAgICAgaXRlbS5mcmllbmRzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgaXRlbS5mcmllbmRzLnB1c2goY3VycmVudCk7XG5cbiAgICAgICAgYWxsRnJpZW5kcyA9IGNhbGN1bGF0ZUFsbEZyaWVuZE9yZGVycygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlY3JlbWVudChpdGVtKSB7XG4gICAgICAgIGlmICghaXRlbS5mcmllbmRzKSB7XG4gICAgICAgICAgICBpdGVtLmZyaWVuZHMgPSBbXTtcbiAgICAgICAgICAgIHNob3dUb2FzdChUT0FTVC5OT19FTEVNRU5UU19UT19SRU1PVkUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGlkeCA9IGl0ZW0uZnJpZW5kcy5pbmRleE9mKGN1cnJlbnQpO1xuICAgICAgICAgICAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgb25seSBvbiBpbmRleCBmb3VuZFxuICAgICAgICAgICAgICAgIGl0ZW0uZnJpZW5kcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2hvd1RvYXN0KGN1cnJlbnQubmFtZSArICcgbm9uIGhhIG9yZGluYXRvIHVuICcgKyBpdGVtLm5hbWUgKyAnICEhIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYWxsRnJpZW5kcyA9IGNhbGN1bGF0ZUFsbEZyaWVuZE9yZGVycygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEN1cnJlbnQoZnJpZW5kKSB7XG4gICAgICAgIGN1cnJlbnQgPSBmcmllbmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0Q3VycmVudCgpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZygnZ2V0IGN1cnJlbnQnKTtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfVxuICAgIC8qXG4gICAgZnVuY3Rpb24gam9pbihncm91cCl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdqb2luIGdyb3VwJyxncm91cCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gam9pbmVkKGdyb3VwLHdobyl7XG4gICAgICAgIGNvbnNvbGUubG9nKCdqb2luZWQgZ3JvdXAgd2hvJyxncm91cCx3aG8pO1xuICAgICAgICByZXR1cm4gZ3JvdXAuZnJpZW5kcy5pbmRleE9mKHdobykgPiAwID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH0qL1xuXG4gICAgLy8gY29udHJvbCBsYXlvdXRcbiAgICAvLyBmdW5jdGlvbiBvcGVuTGVmdE1lbnUoKSB7XG4gICAgLy8gICAgICRtZFNpZGVuYXYoJ2xlZnQnKS5vcGVuKCk7XG4gICAgLy8gfVxuXG4gICAgZnVuY3Rpb24gc2hvd1RvYXN0KG1zZykge1xuICAgICAgICAkbWRUb2FzdC5zaG93KFxuICAgICAgICAgICAgJG1kVG9hc3Quc2ltcGxlKCkuY29udGVudChtc2cpLmhpZGVEZWxheSg2MDAwKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZUFsbEZyaWVuZE9yZGVycygpe1xuICAgICAgICByZXR1cm4gYWRkZWRJdGVtcy5yZWR1Y2UoZnVuY3Rpb24obiwgeSkge1xuICAgICAgICAgICAgdmFyIGNjID0geS5mcmllbmRzIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIG4uY29uY2F0KGNjKTtcbiAgICAgICAgICAgIC8vcmV0dXJuIGdsb2JhbEFycmF5LmNvbmNhdCh5LmZyaWVuZHMgfHwgW10pO1xuICAgICAgICB9LCBbXSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb3JkZXJlZEl0ZW1zKGZyaWVuZCkge1xuICAgICAgICAvLyBhbGxGcmllbmRzID0gW107XG4gICAgICAgIC8vIGNhbiBvcHRpbWl6ZSB0aGlzIHRvIGp1c3QgZG8gaXQgb24gKyBhbmQgLVxuICAgICAgICAvLyByZWR1Y2UgbiBzb21lQXJyYXkuZnJpZW5kIGxpc3QgdG8gb25lIGJpZyBsaXN0XG4gICAgICAgIFxuXG4gICAgICAgIC8vIGZpbHRlciB0byBmaW5kIHRoZSBjdXJyZW50IG9uZVxuICAgICAgICByZXR1cm4gYWxsRnJpZW5kcy5maWx0ZXIoZnVuY3Rpb24oeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggPT09IGZyaWVuZDtcbiAgICAgICAgfSkubGVuZ3RoO1xuXG5cbiAgICB9XG5cbiAgICAvLyBvbiBzd2lwZSByaWdodCwgcmVtb3ZlIHRoZSBpdGVtXG4gICAgZnVuY3Rpb24gcmVtb3ZlKGl0ZW0pe1xuICAgICAgICBjb25zb2xlLmxvZygncmVtb3ZpbmcuLi4nK2l0ZW0pO1xuICAgICAgICBhZGRlZEl0ZW1zLnNwbGljZShhZGRlZEl0ZW1zLmluZGV4T2YoaXRlbSkpO1xuICAgICAgICBzaG93VG9hc3QoaXRlbS5uYW1lICsgJyByaW1vc3NvJyk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiB0b2dnbGVDb21wYWN0KCl7XG4gICAgICAgIC8vY29uc29sZS5sb2coJ3RvZ2dsZUNvbXBhY3QnKTtcbiAgICAgICAgJHNjb3BlLmFwcC5jb21wYWN0ID0gISRzY29wZS5hcHAuY29tcGFjdDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB0b2dnbGVPcmRlckRldGFpbHMoKXtcbiAgICAgICAgLy9jb25zb2xlLmxvZygndG9nZ2xlT3JkZXJEZXRhaWxzJyk7XG4gICAgICAgICRzY29wZS5hcHAub3JkZXJEZXRhaWxzU2hvd24gPSAhJHNjb3BlLmFwcC5vcmRlckRldGFpbHNTaG93bjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjbGVhck9yZGVycygpe1xuICAgICAgICBhbmd1bGFyLmZvckVhY2goYWRkZWRJdGVtcywgZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgICAgdmFsdWUuZnJpZW5kcyA9IFtdO1xuICAgICAgICB9KTtcblxuICAgICAgICBhbGxGcmllbmRzID0gY2FsY3VsYXRlQWxsRnJpZW5kT3JkZXJzKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkT3JkZXJJdGVtKCl7XG4gICAgICAgIGFkZGVkSXRlbXMucHVzaChhbmd1bGFyLmNvcHkoZW1wdHlJdGVtKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0QWxsRnJpZW5kcygpe1xuICAgICAgICByZXR1cm4gYWxsRnJpZW5kcztcbiAgICB9XG5cblxuICAgIC8vZnVuY3Rpb24gbmF2aWdhdGUocm91dGUpe1xuICAgIC8vICAgICRzdGF0ZS5nbyhyb3V0ZSk7XG4gICAgLy8gICAgJG1kU2lkZW5hdignbGVmdCcpLmNsb3NlKCk7XG4gICAgLy99XG5cbn1dKVxuXG4uZmlsdGVyKCdjYXBpdGFsaXplJyxmdW5jdGlvbigpe1xuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXQpe1xuICAgICAgICByZXR1cm4gaW5wdXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBpbnB1dC5zbGljZSgxKTtcbiAgICB9XG59KVxuXG4uZGlyZWN0aXZlKCdhY3Rpb24nLCBmdW5jdGlvbigpIHtcbiAgICAvLyBSdW5zIGR1cmluZyBjb21waWxlXG4gICAgJ3VzZSBzdHJpY3QnO1xuICAgIHJldHVybiB7XG4gICAgICAgIC8vIG5hbWU6ICcnLFxuICAgICAgICAvLyBwcmlvcml0eTogMSxcbiAgICAgICAgLy8gdGVybWluYWw6IHRydWUsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgICBhY3Rpb246ICcmJyxcbiAgICAgICAgICAgIGFjdGlvbkV2ZW50OiAnQCdcbiAgICAgICAgfSwgLy8ge30gPSBpc29sYXRlLCB0cnVlID0gY2hpbGQsIGZhbHNlL3VuZGVmaW5lZCA9IG5vIGNoYW5nZVxuICAgICAgICAvLyBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlKSB7fSxcbiAgICAgICAgLy8gcmVxdWlyZTogJ25nTW9kZWwnLCAvLyBBcnJheSA9IG11bHRpcGxlIHJlcXVpcmVzLCA/ID0gb3B0aW9uYWwsIF4gPSBjaGVjayBwYXJlbnQgZWxlbWVudHNcbiAgICAgICAgLy8gcmVzdHJpY3Q6ICdBJywgLy8gRSA9IEVsZW1lbnQsIEEgPSBBdHRyaWJ1dGUsIEMgPSBDbGFzcywgTSA9IENvbW1lbnRcbiAgICAgICAgLy8gdGVtcGxhdGU6ICcnLFxuICAgICAgICAvLyB0ZW1wbGF0ZVVybDogJycsXG4gICAgICAgIC8vIHJlcGxhY2U6IHRydWUsXG4gICAgICAgIC8vIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICAgIC8vIGNvbXBpbGU6IGZ1bmN0aW9uKHRFbGVtZW50LCB0QXR0cnMsIGZ1bmN0aW9uIHRyYW5zY2x1ZGUoZnVuY3Rpb24oc2NvcGUsIGNsb25lTGlua2luZ0ZuKXsgcmV0dXJuIGZ1bmN0aW9uIGxpbmtpbmcoc2NvcGUsIGVsbSwgYXR0cnMpe319KSksXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgaUVsbSkge1xuICAgICAgICAgICAgLy8kbG9nLmluZm8oJHNjb3BlLmFjdGlvbik7XG4gICAgICAgICAgICBpRWxtLm9uKCRzY29wZS5hY3Rpb25FdmVudCB8fCAnY2xpY2snLCAkc2NvcGUuYWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcblxuXG5BcHAuZGlyZWN0aXZlKCdlZkJhZGdlJywgWyckbG9nJywgZnVuY3Rpb24oJGxvZyl7XG4gICAgLy8gUnVucyBkdXJpbmcgY29tcGlsZVxuICAgICd1c2Ugc3RyaWN0JztcbiAgICByZXR1cm4ge1xuICAgICAgICAvLyBuYW1lOiAnJyxcbiAgICAgICAgLy8gcHJpb3JpdHk6IDEsXG4gICAgICAgIC8vIHRlcm1pbmFsOiB0cnVlLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgICAgZWZCYWRnZTonPSdcbiAgICAgICAgfSwgLy8ge30gPSBpc29sYXRlLCB0cnVlID0gY2hpbGQsIGZhbHNlL3VuZGVmaW5lZCA9IG5vIGNoYW5nZVxuICAgICAgICAvLyBjb250cm9sbGVyOiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlKSB7fSxcbiAgICAgICAgLy8gcmVxdWlyZTogJ25nTW9kZWwnLCAvLyBBcnJheSA9IG11bHRpcGxlIHJlcXVpcmVzLCA/ID0gb3B0aW9uYWwsIF4gPSBjaGVjayBwYXJlbnQgZWxlbWVudHNcbiAgICAgICAgLy8gcmVzdHJpY3Q6ICdBJywgLy8gRSA9IEVsZW1lbnQsIEEgPSBBdHRyaWJ1dGUsIEMgPSBDbGFzcywgTSA9IENvbW1lbnRcbiAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwiZWYtYmFkZ2VcIj48bmctdHJhbnNjbHVkZT48L25nLXRyYW5zY2x1ZGU+PC9kaXY+JyxcbiAgICAgICAgLy8gdGVtcGxhdGVVcmw6ICcnLFxuICAgICAgICByZXBsYWNlOiB0cnVlLFxuICAgICAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgICAgICAvLyBjb21waWxlOiBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzLCBmdW5jdGlvbiB0cmFuc2NsdWRlKGZ1bmN0aW9uKHNjb3BlLCBjbG9uZUxpbmtpbmdGbil7IHJldHVybiBmdW5jdGlvbiBsaW5raW5nKHNjb3BlLCBlbG0sIGF0dHJzKXt9fSkpLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUpIHtcbiAgICAgICAgICAgICRsb2cuaW5mbygkc2NvcGUuZWZCYWRnZSk7ICAgXG4gICAgICAgIH1cbiAgICB9O1xufV0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
